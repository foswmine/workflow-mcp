# π”§ κΈ°λ¥ μ”κµ¬μ‚¬ν•­ - WorkflowMCP Dashboard API

## π― κ°μ”

WorkflowMCP λ€μ‹λ³΄λ“μ λ¨λ“  κΈ°λ¥μ„ REST APIλ΅ μ κ³µν•μ—¬ MCP λ„κµ¬μ™€ μ›Ή λ€μ‹λ³΄λ“ κΈ°λ¥μ„ ν†µν•©μ μΌλ΅ μ ‘κ·Όν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

## π“‹ 1. PRD κ΄€λ¦¬ API

### 1.1 PRD CRUD κΈ°λ¥

#### FR-PRD-001: PRD λ©λ΅ μ΅°ν
- **μ—”λ“ν¬μΈνΈ**: `GET /api/prds`
- **κΈ°λ¥**: λ“±λ΅λ λ¨λ“  PRD λ©λ΅μ„ μ΅°ν
- **νλΌλ―Έν„°**: 
  - `status` (μ„ νƒ): μƒνƒλ³„ ν•„ν„°λ§
  - `project_id` (μ„ νƒ): ν”„λ΅μ νΈλ³„ ν•„ν„°λ§
  - `sort` (μ„ νƒ): μ •λ ¬ κΈ°μ¤€ (created_desc, updated_desc λ“±)
- **μ‘λ‹µ**: PRD λ©λ΅κ³Ό μ΄ κ°μ

#### FR-PRD-002: PRD μƒμ„±
- **μ—”λ“ν¬μΈνΈ**: `POST /api/prds`
- **κΈ°λ¥**: μƒλ΅μ΄ PRD λ¬Έμ„ μƒμ„±
- **μ…λ ¥**: title, description, requirements, acceptance_criteria, priority, status
- **κ²€μ¦**: ν•„μ ν•„λ“ ν™•μΈ, μ¤‘λ³µ μ λ© κ²€μ‚¬
- **μ‘λ‹µ**: μƒμ„±λ PRD μ •λ³΄

#### FR-PRD-003: PRD μƒμ„Έ μ΅°ν
- **μ—”λ“ν¬μΈνΈ**: `GET /api/prds/{id}`
- **κΈ°λ¥**: νΉμ • PRDμ μƒμ„Έ μ •λ³΄ μ΅°ν
- **ν¬ν•¨**: μ—°κ²°λ λ¬Έμ„, μ‘μ—…, ν”„λ΅μ νΈ μ •λ³΄
- **μ‘λ‹µ**: PRD μ „μ²΄ λ°μ΄ν„°

#### FR-PRD-004: PRD μ—…λ°μ΄νΈ
- **μ—”λ“ν¬μΈνΈ**: `PUT /api/prds/{id}`
- **κΈ°λ¥**: κΈ°μ΅΄ PRD μ •λ³΄ μμ •
- **λ¶€λ¶„ μ—…λ°μ΄νΈ**: PATCH λ°©μ‹μΌλ΅ μΌλ¶€ ν•„λ“λ§ μμ • κ°€λ¥
- **λ²„μ „ κ΄€λ¦¬**: μμ • μ‹ updated_at μλ™ κ°±μ‹ 

#### FR-PRD-005: PRD μ‚­μ 
- **μ—”λ“ν¬μΈνΈ**: `DELETE /api/prds/{id}`
- **κΈ°λ¥**: PRD μ‚­μ  (μ—°κ²°λ λ°μ΄ν„° μ²λ¦¬)
- **μ•μ „μ¥μΉ**: μ—°κ²°λ μ‘μ—…μ΄ μμΌλ©΄ μ‚­μ  λ¶κ°€
- **μ†ν”„νΈ μ‚­μ **: μ‹¤μ  μ‚­μ  λ€μ‹  μƒνƒ λ³€κ²½ μµμ…

### 1.2 PRD λ¬Έμ„ μ—°κ²° κΈ°λ¥

#### FR-PRD-006: PRD λ¬Έμ„ μ—°κ²°
- **μ—”λ“ν¬μΈνΈ**: `POST /api/prds/{id}/documents`
- **κΈ°λ¥**: PRDμ— λ¬Έμ„ μ—°κ²°
- **μ—°κ²° νƒ€μ…**: specification, analysis, notes λ“±

#### FR-PRD-007: PRD μ—°κ²° λ¬Έμ„ μ΅°ν
- **μ—”λ“ν¬μΈνΈ**: `GET /api/prds/{id}/documents`
- **κΈ°λ¥**: PRDμ— μ—°κ²°λ λ¨λ“  λ¬Έμ„ μ΅°ν
- **ν•„ν„°λ§**: λ¬Έμ„ νƒ€μ…λ³„ ν•„ν„°λ§ κ°€λ¥

## π“ 2. Task κ΄€λ¦¬ API

### 2.1 Task CRUD κΈ°λ¥

#### FR-TASK-001: Task λ©λ΅ μ΅°ν
- **μ—”λ“ν¬μΈνΈ**: `GET /api/tasks`
- **κΈ°λ¥**: μ‘μ—… λ©λ΅ μ΅°ν
- **νλΌλ―Έν„°**: status, priority, assignee, project_id
- **μ •λ ¬**: μƒμ„±μΌ, μ°μ„ μμ„, λ§κ°μΌ λ“±
- **νμ΄μ§•**: limit, offset μ§€μ›

#### FR-TASK-002: Task μƒμ„±
- **μ—”λ“ν¬μΈνΈ**: `POST /api/tasks`
- **κΈ°λ¥**: μƒ μ‘μ—… μƒμ„±
- **μ…λ ¥**: title, description, priority, assignee, due_date
- **μλ™ ID**: κ³ μ  ID μλ™ μƒμ„±

#### FR-TASK-003: Task μƒμ„Έ μ΅°ν
- **μ—”λ“ν¬μΈνΈ**: `GET /api/tasks/{id}`
- **κΈ°λ¥**: μ‘μ—… μƒμ„Έ μ •λ³΄
- **ν¬ν•¨**: μμ΅΄μ„±, μ—°κ²°λ λ¬Έμ„, ν…μ¤νΈ μΌ€μ΄μ¤

#### FR-TASK-004: Task μ—…λ°μ΄νΈ
- **μ—”λ“ν¬μΈνΈ**: `PUT /api/tasks/{id}`
- **κΈ°λ¥**: μ‘μ—… μ •λ³΄ μμ •
- **μƒνƒ λ³€κ²½**: pending β†’ in_progress β†’ done
- **μ§„ν–‰λ¥ **: estimated_hours, actual_hours μ¶”μ 

#### FR-TASK-005: Task μ‚­μ 
- **μ—”λ“ν¬μΈνΈ**: `DELETE /api/tasks/{id}`
- **κΈ°λ¥**: μ‘μ—… μ‚­μ 
- **μμ΅΄μ„± ν™•μΈ**: λ‹¤λ¥Έ μ‘μ—…μ΄ μμ΅΄ν•λ” κ²½μ° μ‚­μ  λ¶κ°€

### 2.2 Task μμ΅΄μ„± κ΄€λ¦¬

#### FR-TASK-006: μμ΅΄μ„± μ¶”κ°€
- **μ—”λ“ν¬μΈνΈ**: `POST /api/tasks/{id}/dependencies`
- **κΈ°λ¥**: μ‘μ—… κ°„ μμ΅΄μ„± μƒμ„±
- **μν™ μμ΅΄μ„± κ²€μ‚¬**: λ¬΄ν• λ£¨ν”„ λ°©μ§€

#### FR-TASK-007: μμ΅΄μ„± μ΅°ν
- **μ—”λ“ν¬μΈνΈ**: `GET /api/tasks/{id}/dependencies`
- **κΈ°λ¥**: μ‘μ—…μ μμ΅΄μ„± κ·Έλν”„ μ΅°ν
- **λ°©ν–¥**: μμ΅΄ν•λ” μ‘μ—…, μμ΅΄λ°›λ” μ‘μ—… λ¨λ‘ μ κ³µ

#### FR-TASK-008: μμ΅΄μ„± μ‚­μ 
- **μ—”λ“ν¬μΈνΈ**: `DELETE /api/tasks/{id}/dependencies/{dep_id}`
- **κΈ°λ¥**: νΉμ • μμ΅΄μ„± κ΄€κ³„ μ κ±°

## π“„ 3. Document κ΄€λ¦¬ API

### 3.1 Document CRUD κΈ°λ¥

#### FR-DOC-001: Document λ©λ΅ μ΅°ν
- **μ—”λ“ν¬μΈνΈ**: `GET /api/documents`
- **κΈ°λ¥**: λ¬Έμ„ λ©λ΅ μ΅°ν
- **νλΌλ―Έν„°**: doc_type, category, status, tags
- **κ²€μƒ‰**: μ λ©, λ‚΄μ© μ „λ¬Έ κ²€μƒ‰ μ§€μ›

#### FR-DOC-002: Document μƒμ„±
- **μ—”λ“ν¬μΈνΈ**: `POST /api/documents`
- **κΈ°λ¥**: μƒ λ¬Έμ„ μƒμ„±
- **μ…λ ¥**: title, content, doc_type, category, tags
- **μλ™ μΈλ±μ‹±**: FTS κ²€μƒ‰ μΈλ±μ¤ μλ™ μƒμ„±

#### FR-DOC-003: Document μƒμ„Έ μ΅°ν
- **μ—”λ“ν¬μΈνΈ**: `GET /api/documents/{id}`
- **κΈ°λ¥**: λ¬Έμ„ μƒμ„Έ μ •λ³΄
- **ν¬ν•¨**: μ „μ²΄ λ‚΄μ©, λ©”νƒ€λ°μ΄ν„°, μ—°κ²° μ •λ³΄

#### FR-DOC-004: Document μ—…λ°μ΄νΈ
- **μ—”λ“ν¬μΈνΈ**: `PUT /api/documents/{id}`
- **κΈ°λ¥**: λ¬Έμ„ μμ •
- **λ²„μ „ κ΄€λ¦¬**: μμ • μ΄λ ¥ μ¶”μ 
- **μ¬μΈλ±μ‹±**: λ‚΄μ© λ³€κ²½ μ‹ κ²€μƒ‰ μΈλ±μ¤ μ—…λ°μ΄νΈ

#### FR-DOC-005: Document μ‚­μ 
- **μ—”λ“ν¬μΈνΈ**: `DELETE /api/documents/{id}`
- **κΈ°λ¥**: λ¬Έμ„ μ‚­μ 
- **μ—°κ²° ν™•μΈ**: λ‹¤λ¥Έ μ—”ν‹°ν‹°μ™€μ μ—°κ²° κ΄€κ³„ μ •λ¦¬

### 3.2 Document κ²€μƒ‰ κΈ°λ¥

#### FR-DOC-006: μ „λ¬Έ κ²€μƒ‰
- **μ—”λ“ν¬μΈνΈ**: `GET /api/documents/search`
- **κΈ°λ¥**: λ¬Έμ„ λ‚΄μ© μ „λ¬Έ κ²€μƒ‰
- **νλΌλ―Έν„°**: query, doc_type, category, limit
- **ν•μ΄λΌμ΄ν…**: κ²€μƒ‰μ–΄ κ°•μ΅° ν‘μ‹

#### FR-DOC-007: νƒκ·Έ κΈ°λ° κ²€μƒ‰
- **μ—”λ“ν¬μΈνΈ**: `GET /api/documents/tags/{tag}`
- **κΈ°λ¥**: νΉμ • νƒκ·Έμ λ¬Έμ„ μ΅°ν
- **κ΄€λ ¨ νƒκ·Έ**: ν•¨κ» μ‚¬μ©λλ” νƒκ·Έ μ¶”μ²

## π”— 4. μ—°κ²° κ΄€λ¦¬ API

### 4.1 μ—”ν‹°ν‹° μ—°κ²° κΈ°λ¥

#### FR-CONN-001: μ—°κ²° μƒμ„±
- **μ—”λ“ν¬μΈνΈ**: `POST /api/connections`
- **κΈ°λ¥**: μ—”ν‹°ν‹° κ°„ μ—°κ²° μƒμ„± (PRD-Task, Task-Document λ“±)
- **μ—°κ²° νƒ€μ…**: related, dependent, blocking, reference

#### FR-CONN-002: μ—°κ²° μ΅°ν
- **μ—”λ“ν¬μΈνΈ**: `GET /api/connections`
- **κΈ°λ¥**: λ¨λ“  μ—°κ²° κ΄€κ³„ μ΅°ν
- **ν•„ν„°λ§**: μ—”ν‹°ν‹° νƒ€μ…, μ—°κ²° νƒ€μ…λ³„ ν•„ν„°λ§

#### FR-CONN-003: μ—°κ²° μ‚­μ 
- **μ—”λ“ν¬μΈνΈ**: `DELETE /api/connections/{id}`
- **κΈ°λ¥**: μ—°κ²° κ΄€κ³„ μ κ±°

## π“ 5. λ€μ‹λ³΄λ“ λ°μ΄ν„° API

### 5.1 ν”„λ΅μ νΈ λ€μ‹λ³΄λ“

#### FR-DASH-001: ν”„λ΅μ νΈ κ°μ”
- **μ—”λ“ν¬μΈνΈ**: `GET /api/projects/{id}/dashboard`
- **κΈ°λ¥**: ν”„λ΅μ νΈ μ „μ²΄ κ°μ” λ°μ΄ν„°
- **ν¬ν•¨**: μ§„ν–‰λ¥ , μ‘μ—… ν„ν™©, μµκ·Ό ν™λ™

#### FR-DASH-002: μ§„ν–‰λ¥  νƒ€μ„λΌμΈ
- **μ—”λ“ν¬μΈνΈ**: `GET /api/projects/{id}/timeline`
- **κΈ°λ¥**: ν”„λ΅μ νΈ μ§„ν–‰λ¥  μ‹κ³„μ—΄ λ°μ΄ν„°
- **κΈ°κ°„**: μΌλ³„, μ£Όλ³„, μ›”λ³„ μ§‘κ³„

#### FR-DASH-003: μ‘μ—… ν†µκ³„
- **μ—”λ“ν¬μΈνΈ**: `GET /api/projects/{id}/task-stats`
- **κΈ°λ¥**: μ‘μ—… μƒνƒλ³„ ν†µκ³„
- **μ°¨νΈ λ°μ΄ν„°**: νμ΄μ°¨νΈ, λ§‰λ€μ°¨νΈμ© λ°μ΄ν„°

### 5.2 μ „μ²΄ μ‹μ¤ν… λ€μ‹λ³΄λ“

#### FR-DASH-004: μ‹μ¤ν… κ°μ”
- **μ—”λ“ν¬μΈνΈ**: `GET /api/dashboard/overview`
- **κΈ°λ¥**: μ „μ²΄ μ‹μ¤ν… ν„ν™©
- **ν¬ν•¨**: μ΄ PRD/Task/Document μ, μµκ·Ό ν™λ™

#### FR-DASH-005: ν™λ™ ν”Όλ“
- **μ—”λ“ν¬μΈνΈ**: `GET /api/dashboard/activities`
- **κΈ°λ¥**: μµκ·Ό ν™λ™ ν”Όλ“
- **μ‹¤μ‹κ°„**: SSEλ¥Ό ν†µν• μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ

## π”„ 6. λ°°μΉ μ‘μ—… API

### 6.1 μΌκ΄„ μ²λ¦¬ κΈ°λ¥

#### FR-BATCH-001: μΌκ΄„ PRD μ²λ¦¬
- **μ—”λ“ν¬μΈνΈ**: `POST /api/batch/prds`
- **κΈ°λ¥**: μ—¬λ¬ PRD μΌκ΄„ μƒμ„±/μ—…λ°μ΄νΈ
- **νΈλμ­μ…**: μ „μ²΄ μ„±κ³µ λλ” μ „μ²΄ μ‹¤ν¨

#### FR-BATCH-002: μΌκ΄„ Task μ²λ¦¬
- **μ—”λ“ν¬μΈνΈ**: `POST /api/batch/tasks`
- **κΈ°λ¥**: μ—¬λ¬ μ‘μ—… μΌκ΄„ μ²λ¦¬
- **μμ΅΄μ„±**: μΌκ΄„ μμ΅΄μ„± μ„¤μ • μ§€μ›

#### FR-BATCH-003: μΌκ΄„ Document μ²λ¦¬
- **μ—”λ“ν¬μΈνΈ**: `POST /api/batch/documents`
- **κΈ°λ¥**: μ—¬λ¬ λ¬Έμ„ μΌκ΄„ μ²λ¦¬
- **μΈλ±μ‹±**: μΌκ΄„ κ²€μƒ‰ μΈλ±μ¤ μ—…λ°μ΄νΈ

## π”” 7. μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ API

### 7.1 Server-Sent Events

#### FR-SSE-001: μ‹¤μ‹κ°„ μ΄λ²¤νΈ μ¤νΈλ¦Ό
- **μ—”λ“ν¬μΈνΈ**: `GET /api/events/stream`
- **κΈ°λ¥**: μ‹¤μ‹κ°„ λ°μ΄ν„° λ³€κ²½ μ•λ¦Ό
- **μ΄λ²¤νΈ νƒ€μ…**: create, update, delete

#### FR-SSE-002: μ΄λ²¤νΈ ν•„ν„°λ§
- **νλΌλ―Έν„°**: entity_type, project_id
- **κΈ°λ¥**: νΉμ • μ—”ν‹°ν‹°λ‚ ν”„λ΅μ νΈμ μ΄λ²¤νΈλ§ μμ‹ 

## β΅ 8. μ„±λ¥ μµμ ν™” κΈ°λ¥

### 8.1 μΊμ‹±

#### FR-CACHE-001: μ‘λ‹µ μΊμ‹±
- **λ€μƒ**: μμ£Ό μ΅°νλλ” λ°μ΄ν„° (λ©λ΅, ν†µκ³„)
- **λ¬΄ν¨ν™”**: λ°μ΄ν„° λ³€κ²½ μ‹ μλ™ μΊμ‹ λ¬΄ν¨ν™”

#### FR-CACHE-002: μΏΌλ¦¬ μµμ ν™”
- **κΈ°λ¥**: λ³µμ΅ν• μ΅°μΈ μΏΌλ¦¬ μµμ ν™”
- **μΈλ±μ‹±**: μμ£Ό μ‚¬μ©λλ” κ²€μƒ‰ μ΅°κ±΄ μΈλ±μ‹±

### 8.2 νμ΄μ§€λ„¤μ΄μ…

#### FR-PAGE-001: μ»¤μ„ κΈ°λ° νμ΄μ§•
- **λ¨λ“  λ©λ΅ API**: cursor, limit νλΌλ―Έν„° μ§€μ›
- **μ„±λ¥**: λ€μ©λ‰ λ°μ΄ν„°μ—μ„λ„ μΌμ •ν• μ„±λ¥

## π” 9. κ²€μƒ‰ λ° ν•„ν„°λ§

### 9.1 κ³ κΈ‰ κ²€μƒ‰

#### FR-SEARCH-001: λ³µν•© κ²€μƒ‰
- **κΈ°λ¥**: μ—¬λ¬ μ΅°κ±΄μ„ μ΅°ν•©ν• κ²€μƒ‰
- **μ—°μ‚°μ**: AND, OR, NOT μ§€μ›

#### FR-SEARCH-002: μ •λ ¬ μµμ…
- **λ‹¤μ¤‘ μ •λ ¬**: μ—¬λ¬ ν•„λ“ μ΅°ν•© μ •λ ¬
- **μ‚¬μ©μ μ •μ**: μ‚¬μ©μ μ •μ μ •λ ¬ κΈ°μ¤€ μ €μ¥

## π“‹ 10. λ°μ΄ν„° κ²€μ¦ λ° λ¬΄κ²°μ„±

### 10.1 μ…λ ¥ κ²€μ¦

#### FR-VALID-001: μ¤ν‚¤λ§ κ²€μ¦
- **λ¨λ“  μ…λ ¥**: JSON μ¤ν‚¤λ§ κΈ°λ° κ²€μ¦
- **νƒ€μ… κ²€μ‚¬**: λ°μ΄ν„° νƒ€μ… λ° ν•μ‹ κ²€μ¦

#### FR-VALID-002: λΉ„μ¦λ‹μ¤ κ·μΉ™ κ²€μ¦
- **μμ΅΄μ„±**: μν™ μμ΅΄μ„± λ°©μ§€
- **μƒνƒ μ „μ΄**: μ ν¨ν• μƒνƒ λ³€κ²½λ§ ν—μ©

### 10.2 λ°μ΄ν„° λ¬΄κ²°μ„±

#### FR-INTEG-001: μ°Έμ΅° λ¬΄κ²°μ„±
- **μ™Έλν‚¤**: μ°Έμ΅° λ¬΄κ²°μ„± κ²€μ‚¬
- **μΉ΄μ¤μΌ€μ΄λ“**: μ—°κ²°λ λ°μ΄ν„°μ μΌκ΄€μ„± μ μ§€

---

**μ‘μ„±μΌ**: 2025-09-11  
**μ‘μ„±μ**: μ”κµ¬μ‚¬ν•­ λ¶„μ„κ°€ (Claude Code)  
**κ²€ν† μ**: μ‹μ¤ν… μ„¤κ³„μ  
**λ²„μ „**: 1.0  
**μƒνƒ**: μƒμ„Έ μ„¤κ³„ λ€κΈ°