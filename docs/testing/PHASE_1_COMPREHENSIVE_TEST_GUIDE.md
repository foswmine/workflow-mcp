# 🧪 WorkflowMCP Phase 1 종합 테스트 가이드

**테스트 대상**: WorkflowMCP Phase 1 완성 버전  
**총 도구 수**: 15개 핵심 MCP 도구  
**테스트 소요시간**: 약 15-20분  
**테스트 일시**: 새로운 Claude Code 세션에서 실행

---

## ⚠️ **중요 사전 조건**

### 🚨 **필수: 새 세션 시작 요구사항**

**기존 테스트 세션은 반드시 재시작해야 합니다!**

**이유:**
- MCP 서버 소스코드가 대폭 수정됨 (15개 도구로 확장)
- Claude Code는 시작 시에만 MCP 서버를 로드
- 기존 세션은 이전 버전의 서버를 계속 사용 중
- 새로운 도구들이 인식되지 않음

**필수 절차:**
1. ✅ 현재 모든 Claude Code 세션 **완전 종료**
2. ✅ 새로운 터미널에서 `claude` 실행  
3. ✅ 첫 번째 명령어: `/mcp` (연결 확인)

---

## 📋 **테스트 절차 (순서대로 실행)**

### 1️⃣ **연결 확인 (필수 첫 단계)**

**실행 명령:**
```
/mcp
```

**기대 결과:**
- `workflow-mcp ✓ Connected` 표시
- 다른 MCP 서버들도 정상 연결 상태

**실패 시:** Claude Code 재시작 후 다시 확인

---

### 2️⃣ **기존 PRD 확인 (기준점 설정)**

**실행 명령:**
```
list_prds 도구로 현재 저장된 PRD 목록을 먼저 확인해주세요. 기존 데이터가 있다면 ID를 기록해두겠습니다.
```

**목적:** 기존 테스트 데이터 현황 파악 및 ID 수집

---

### 3️⃣ **Task 관리 시스템 테스트**

#### 3-1. Task 생성 테스트
**실행 명령:**
```
create_task 도구를 사용해서 다음 Task를 생성해주세요:
{
  "title": "사용자 인증 시스템 구현",
  "description": "JWT 기반 로그인/로그아웃 기능 개발 및 보안 강화",
  "priority": "High",
  "assignee": "개발팀",
  "estimatedHours": 16,
  "dueDate": "2025-01-15T18:00:00.000Z"
}
```

**검증 포인트:**
- ✅ 성공 메시지가 한글로 표시됨
- ✅ Task ID가 `task_` prefix로 생성됨
- ✅ 생성일시가 현재 시간으로 설정됨

#### 3-2. Task 목록 조회
**실행 명령:**
```
list_tasks 도구로 생성된 Task 목록을 조회해주세요.
```

**검증 포인트:**
- ✅ 방금 생성한 Task가 목록에 표시됨
- ✅ Task 정보가 올바르게 표시됨

#### 3-3. Task 상세 조회
**실행 명령:**
```
방금 생성된 Task의 ID를 사용해서 get_task 도구로 상세 정보를 조회해주세요.
```

**검증 포인트:**
- ✅ 모든 Task 필드가 정확하게 표시됨
- ✅ 생성 시 입력한 데이터와 일치함

#### 3-4. Task 업데이트
**실행 명령:**
```
update_task 도구를 사용해서 방금 생성한 Task의 상태를 "in_progress"로 변경하고 담당자를 "김개발"로 수정해주세요.
```

**검증 포인트:**
- ✅ 업데이트 성공 메시지 표시
- ✅ 변경된 필드 목록이 정확하게 표시됨
- ✅ updatedAt 필드가 갱신됨

---

### 4️⃣ **Plan 관리 시스템 테스트**

#### 4-1. Plan 생성 테스트
**실행 명령:**
```
create_plan 도구를 사용해서 다음 Plan을 생성해주세요:
{
  "title": "웹 애플리케이션 개발 마스터 플랜",
  "description": "사용자 관리부터 배포까지 전체 개발 계획 및 일정 관리",
  "milestones": [
    {
      "title": "Phase 1: 기본 구조",
      "description": "프로젝트 초기 설정 및 기본 구조 구현",
      "dueDate": "2025-02-01T09:00:00.000Z"
    },
    {
      "title": "Phase 2: 핵심 기능",
      "description": "사용자 인증 및 핵심 비즈니스 로직 구현", 
      "dueDate": "2025-02-15T09:00:00.000Z"
    },
    {
      "title": "Phase 3: 테스트 및 배포",
      "description": "통합 테스트 및 프로덕션 배포",
      "dueDate": "2025-03-01T09:00:00.000Z"
    }
  ],
  "startDate": "2025-01-10T09:00:00.000Z",
  "endDate": "2025-03-01T09:00:00.000Z"
}
```

**검증 포인트:**
- ✅ Plan ID가 `plan_` prefix로 생성됨
- ✅ 3개 마일스톤이 모두 정확하게 저장됨
- ✅ 날짜 형식이 올바르게 처리됨

#### 4-2. Plan 목록 조회
**실행 명령:**
```
list_plans 도구로 생성된 Plan 목록을 조회해주세요.
```

**검증 포인트:**
- ✅ 방금 생성한 Plan이 목록에 표시됨
- ✅ 마일스톤 개수가 정확하게 표시됨

#### 4-3. Plan 상세 조회
**실행 명령:**
```
방금 생성된 Plan의 ID를 사용해서 get_plan 도구로 상세 정보를 조회해주세요.
```

**검증 포인트:**
- ✅ 모든 마일스톤이 상세하게 표시됨
- ✅ 날짜 정보가 올바른 형식으로 표시됨

#### 4-4. Plan 업데이트
**실행 명령:**
```
update_plan 도구를 사용해서 방금 생성한 Plan의 상태를 "active"로 변경하고, 첫 번째 마일스톤의 completed를 true로 설정해주세요.

milestones 전체 배열을 다시 전달하되, 첫 번째 마일스톤에만 "completed": true를 추가해주세요.
```

**검증 포인트:**
- ✅ 상태가 "active"로 변경됨
- ✅ 첫 번째 마일스톤이 완료로 표시됨

---

### 5️⃣ **유틸리티 도구 테스트**

#### 5-1. 프로젝트 메트릭스 조회
**실행 명령:**
```
get_metrics 도구를 사용해서 현재 프로젝트의 전체 메트릭스를 상세히 조회해주세요:
{
  "includeDetails": true
}
```

**검증 포인트:**
- ✅ 총 PRD, Task, Plan 개수가 정확함
- ✅ 상태별 분포가 상세하게 표시됨
- ✅ 우선순위별 집계가 표시됨

#### 5-2. PRD 유효성 검사
**실행 명령:**
```
기존에 있던 PRD 중 하나의 ID를 사용해서 validate_prd 도구로 PRD 품질을 검사해주세요. PRD ID가 없으면 먼저 간단한 PRD를 하나 생성하고 검사해주세요.
```

**검증 포인트:**
- ✅ 점수가 0-100 범위로 계산됨
- ✅ 오류/경고 메시지가 적절하게 표시됨
- ✅ 개선 권고사항이 제시됨

#### 5-3. 데이터 내보내기 테스트 (3종류)

**5-3-1. JSON 형식 내보내기**
**실행 명령:**
```
export_data 도구를 사용해서 모든 데이터를 JSON 형식으로 내보내기해주세요:
{
  "format": "json",
  "dataType": "all"
}
```

**5-3-2. 요약 리포트 내보내기**
**실행 명령:**
```
export_data 도구를 사용해서 모든 데이터를 요약 리포트 형식으로 내보내기해주세요:
{
  "format": "summary", 
  "dataType": "all"
}
```

**5-3-3. CSV 형식 내보내기**
**실행 명령:**
```
export_data 도구를 사용해서 Task 데이터만 CSV 형식으로 내보내기해주세요:
{
  "format": "csv",
  "dataType": "tasks"
}
```

**검증 포인트:**
- ✅ JSON: 완전한 데이터 구조가 표시됨
- ✅ Summary: 읽기 쉬운 리포트 형식으로 표시됨
- ✅ CSV: 표 형식으로 데이터가 표시됨

---

### 6️⃣ **종합 워크플로 테스트**

**실행 명령:**
```
지금까지 생성한 모든 데이터가 일관성 있게 관리되고 있는지 전체 워크플로를 점검해주세요:

1. list_prds로 PRD 현황 확인
2. list_tasks로 Task 현황 확인
3. list_plans로 Plan 현황 확인  
4. get_metrics로 최종 전체 현황 파악
5. export_data (format: "summary", dataType: "all")로 최종 프로젝트 요약 리포트 생성

각 단계의 결과가 이전 테스트에서 생성한 데이터와 일치하는지 확인해주세요.
```

**검증 포인트:**
- ✅ 모든 생성된 데이터가 정확하게 저장되어 있음
- ✅ 메트릭스의 총계가 실제 데이터 수와 일치함
- ✅ 요약 리포트에 모든 도메인 데이터가 포함됨

---

## 📊 **테스트 완료 기준**

### ✅ **성공 기준 체크리스트**

#### 연결 및 기본 기능
- [ ] MCP 서버 정상 연결 (`workflow-mcp ✓ Connected`)
- [ ] 모든 15개 도구 인식 및 실행 가능

#### CRUD 기능 (Create, Read, Update)
- [ ] **Create**: PRD/Task/Plan 생성 성공
- [ ] **Read**: list/get 도구로 조회 성공  
- [ ] **Update**: 기존 데이터 수정 성공

#### 데이터 무결성
- [ ] 생성된 데이터가 FileStorage에 정확하게 저장
- [ ] ID 생성 규칙 준수 (`prd_`, `task_`, `plan_` prefix)
- [ ] 날짜/시간 형식 일관성 유지

#### 유틸리티 기능
- [ ] 메트릭스가 실제 데이터와 일치
- [ ] PRD 검증 점수 및 권고사항 정상 출력
- [ ] 3가지 내보내기 형식 모두 정상 작동

#### 한글 지원
- [ ] 모든 성공/오류 메시지가 한글로 표시
- [ ] 한글 데이터 입력 및 저장 정상

### ❌ **실패 시 체크포인트**

#### MCP 연결 문제
- [ ] `/mcp`에서 workflow-mcp가 Connected로 표시되지 않음
- [ ] 특정 도구가 "Unknown tool" 오류 발생
- **해결**: Claude Code 재시작 필요

#### 기능 오류
- [ ] 데이터 생성 실패
- [ ] 조회 시 빈 결과 또는 오류
- [ ] 업데이트 반영 안됨
- **해결**: 구체적 오류 메시지와 함께 보고

#### 데이터 불일치
- [ ] 메트릭스 총계가 실제 데이터 수와 다름
- [ ] 내보내기 데이터가 불완전
- **해결**: FileStorage 상태 확인 필요

---

## 📋 **테스트 보고서 템플릿**

### 테스트 완료 후 다음 형식으로 결과 보고:

```
## WorkflowMCP Phase 1 테스트 결과

**테스트 일시**: [현재 날짜/시간]
**테스트 소요시간**: [분]
**전체 성공률**: [성공한 기능 / 전체 기능]

### 성공한 기능 ✅
- [ ] MCP 연결
- [ ] Task 관리 (생성/조회/업데이트)
- [ ] Plan 관리 (생성/조회/업데이트)  
- [ ] 메트릭스 조회
- [ ] PRD 검증
- [ ] 데이터 내보내기 (JSON/Summary/CSV)

### 실패한 기능 ❌
- [실패한 기능과 오류 메시지]

### 최종 메트릭스
- 총 PRD 수: [개]
- 총 Task 수: [개]
- 총 Plan 수: [개]

### 전체 평가
- [ ] Phase 1 목표 100% 달성
- [ ] 부분 성공 (구체적 이슈 명시)
- [ ] 주요 문제로 인한 테스트 실패
```

---

## 🎯 **테스트 목적 및 중요성**

이 테스트는 **WorkflowMCP Phase 1의 15개 핵심 도구가 모두 정상 작동하는지 종합 검증**하는 것입니다.

**테스트 범위:**
- ✅ 3개 도메인 (PRD, Task, Plan) 전체 라이프사이클
- ✅ CRUD 작업 완전성
- ✅ 데이터 무결성 및 지속성
- ✅ 유틸리티 기능 정확성
- ✅ 한글 지원 및 사용자 경험

**성공 시:** Phase 2 개발 착수 가능  
**실패 시:** 문제 수정 후 재테스트 필요

---

**🚨 중요: 이 테스트는 반드시 새로운 Claude Code 세션에서 순서대로 실행해야 합니다!**

**📞 문제 발생 시:** 구체적인 오류 메시지와 함께 실패 상황을 상세히 보고해주세요.