# WorkflowMCP Phase 2.7 종합 테스트 문서

## 테스트 개요

이 문서는 WorkflowMCP Phase 2.7의 모든 기능을 검증하기 위한 종합 테스트 가이드입니다.

### 테스트 환경
- **개발 서버**: `http://localhost:3301`
- **MCP 서버**: workflow-mcp 포트 확인 필요
- **데이터베이스**: SQLite (`../data/workflow.db`)

### 테스트 범위
1. Phase 2.6 이슈 해결 검증
2. 새로 구현된 관리 페이지 테스트
3. 문서 관리 시스템 (Phase 2.7) 검증
4. 통합 기능 테스트

---

## Phase 2.6 이슈 해결 검증

### 1. Chart.js 초기화 문제 해결 검증

**테스트 목적**: 빈 데이터에서 Chart.js가 정상 초기화되는지 확인

**테스트 단계**:
1. 대시보드 접속 (`http://localhost:3301`)
2. "작업 활동 차트" 섹션 확인
3. 데이터가 없어도 차트가 표시되는지 확인

**예상 결과**:
- ✅ 차트가 오류 없이 렌더링
- ✅ 빈 상태 메시지 또는 기본 차트 표시
- ❌ 콘솔에 Chart.js 관련 에러 없음

### 2. D3.js Gantt 차트 렌더링 오류 수정 검증

**테스트 목적**: negative width 오류 해결 확인

**테스트 단계**:
1. 대시보드의 "프로젝트 타임라인" 섹션 확인
2. 브라우저 콘솔 확인
3. 간트 차트 시각화 정상 렌더링 확인

**예상 결과**:
- ✅ Gantt 차트가 정상 렌더링
- ❌ 콘솔에 "negative value is not valid" 에러 없음
- ✅ 모든 작업 바가 최소 10px 너비로 표시

---

## 새로 구현된 관리 페이지 테스트

### 1. PRD 관리 페이지 테스트

#### 1.1 PRD 목록 페이지 (`/prds`)

**테스트 단계**:
1. 네비게이션에서 "PRD 관리" 클릭
2. PRD 목록 페이지 로딩 확인
3. 빈 상태/데이터 있는 상태 모두 확인

**예상 결과**:
- ✅ 페이지가 404 에러 없이 로딩
- ✅ "새 PRD 작성" 버튼 존재
- ✅ 카드형 레이아웃으로 PRD 목록 표시
- ✅ 상태/우선순위 배지 표시
- ✅ 상세보기/편집/삭제 버튼 동작

#### 1.2 PRD 생성 페이지 (`/prds/new`)

**테스트 단계**:
1. "새 PRD 작성" 버튼 클릭
2. 필수 필드 입력 테스트
3. 요구사항/인수조건 추가 테스트
4. 폼 제출 테스트

**예상 결과**:
- ✅ 생성 폼이 정상 렌더링
- ✅ 제목 필드 필수 검증
- ✅ 요구사항/인수조건 동적 추가/삭제
- ✅ 생성 완료 후 목록 페이지로 리다이렉트

### 2. 작업 관리 페이지 테스트

#### 2.1 작업 목록 페이지 (`/tasks`)

**테스트 단계**:
1. 네비게이션에서 "작업 관리" 클릭
2. Kanban 보드 레이아웃 확인
3. 상태별 컬럼 (대기중/진행중/완료) 확인
4. 작업 상태 변경 테스트

**예상 결과**:
- ✅ 3개 컬럼 Kanban 레이아웃
- ✅ 작업 카드에 우선순위/마감일 표시
- ✅ 상태 변경 버튼 동작
- ✅ 삭제 기능 동작 (확인 다이얼로그)

#### 2.2 작업 생성 페이지 (`/tasks/new`)

**테스트 단계**:
1. "새 작업 추가" 버튼 클릭
2. 작업 정보 입력
3. 계획 연결 드롭다운 테스트
4. 미리보기 기능 확인

**예상 결과**:
- ✅ 작업 생성 폼 정상 렌더링
- ✅ 계획 목록 드롭다운 로딩
- ✅ 실시간 미리보기 업데이트
- ✅ 생성 완료 후 작업 목록으로 리다이렉트

### 3. 계획 관리 페이지 테스트

#### 3.1 계획 목록 페이지 (`/plans`)

**테스트 단계**:
1. 네비게이션에서 "계획 관리" 클릭 (아직 네비게이션에 없을 수 있음)
2. 직접 URL 접속: `http://localhost:3301/plans`
3. 계획 카드 레이아웃 확인
4. 진행률 시각화 확인

**예상 결과**:
- ✅ 페이지가 404 에러 없이 로딩
- ✅ 진행률 바가 정상 표시
- ✅ 시작/종료 날짜 표시
- ✅ 작업 통계 정보 표시

#### 3.2 계획 생성 페이지 (`/plans/new`)

**테스트 단계**:
1. "새 계획 작성" 버튼 클릭
2. 날짜 범위 유효성 검사 테스트
3. 진행률 슬라이더 테스트
4. 실시간 미리보기 확인

**예상 결과**:
- ✅ 계획 생성 폼 정상 렌더링
- ✅ 종료일이 시작일보다 이전일 때 에러 메시지
- ✅ 진행률 슬라이더와 숫자 입력 연동
- ✅ 미리보기에서 진행률 바 표시

---

## 문서 관리 시스템 (Phase 2.7) 검증

### 1. MCP 서버 도구 테스트

**전제조건**: MCP 서버가 정상 실행 중이어야 함

#### 테스트 가능한 MCP 도구들:
1. `list_documents` - 문서 목록 조회
2. `get_document` - 특정 문서 조회
3. `create_document` - 새 문서 생성
4. `update_document` - 문서 업데이트
5. `delete_document` - 문서 삭제
6. `search_documents` - 문서 검색
7. `get_document_relations` - 문서 관계 조회
8. `link_documents` - 문서 간 링크 생성
9. `get_document_summary` - 문서 요약

**테스트 예시**:
```bash
# MCP 도구 호출 테스트 (Claude Code에서)
# 1. 문서 목록 조회
list_documents()

# 2. 새 문서 생성
create_document({
  "title": "테스트 문서",
  "content": "이것은 테스트 문서입니다.",
  "doc_type": "test",
  "category": "verification"
})

# 3. 문서 검색
search_documents({"query": "테스트"})
```

### 2. 데이터베이스 테스트

**테스트 단계**:
1. 대시보드에서 "데이터베이스" 메뉴 접속
2. `documents` 테이블 확인
3. 테스트 문서 데이터 확인

**예상 결과**:
- ✅ documents 테이블이 존재
- ✅ 3개의 테스트 문서가 저장되어 있음
- ✅ 문서 메타데이터 (제목, 내용, 생성일 등) 정상 표시

---

## 통합 기능 테스트

### 1. 네비게이션 테스트

**테스트 단계**:
1. 메인 네비게이션의 모든 링크 클릭
2. 브레드크럼브 네비게이션 확인
3. 로고 클릭 시 홈으로 이동 확인

**예상 결과**:
- ✅ 모든 네비게이션 링크가 404 에러 없이 작동
- ✅ 현재 페이지 하이라이트 표시
- ✅ 모바일 반응형 메뉴 동작

### 2. 데이터 연동 테스트

**테스트 단계**:
1. PRD 생성 → 관련 작업 생성 → 계획과 연결
2. 대시보드에서 통계 정보 확인
3. 데이터베이스에서 실제 연결 관계 확인

**예상 결과**:
- ✅ 엔터티 간 관계가 정상 설정
- ✅ 대시보드 통계가 실제 데이터 반영
- ✅ Foreign key 제약 조건 동작

### 3. 에러 처리 테스트

**테스트 단계**:
1. 잘못된 데이터로 폼 제출
2. 네트워크 에러 상황 시뮬레이션
3. 빈 데이터베이스 상태에서 동작 확인

**예상 결과**:
- ✅ 적절한 에러 메시지 표시
- ✅ 로딩 상태 표시
- ✅ 빈 상태에서 적절한 안내 메시지

---

## 성능 및 품질 테스트

### 1. 페이지 로딩 성능

**측정 항목**:
- 초기 페이지 로딩 시간
- 데이터 fetch 응답 시간
- 클라이언트 사이드 렌더링 성능

**기준**:
- 페이지 로딩: 3초 이내
- API 응답: 1초 이내
- 인터랙션 응답: 100ms 이내

### 2. 접근성 테스트

**확인 항목**:
- 키보드 네비게이션
- 스크린 리더 호환성
- 색상 대비
- 포커스 표시

### 3. 반응형 디자인 테스트

**테스트 화면 크기**:
- 모바일 (320px - 768px)
- 태블릿 (768px - 1024px)  
- 데스크톱 (1024px+)

---

## 테스트 체크리스트

### Phase 2.6 이슈 해결 ✅
- [ ] Chart.js 초기화 문제 해결됨
- [ ] D3.js Gantt 차트 렌더링 오류 수정됨
- [ ] 콘솔에 차트 관련 에러 없음

### 관리 페이지 구현 ✅
- [ ] PRD 관리 페이지 (`/prds`) 정상 작동
- [ ] PRD 생성 페이지 (`/prds/new`) 정상 작동
- [ ] 작업 관리 페이지 (`/tasks`) 정상 작동
- [ ] 작업 생성 페이지 (`/tasks/new`) 정상 작동
- [ ] 계획 관리 페이지 (`/plans`) 정상 작동
- [ ] 계획 생성 페이지 (`/plans/new`) 정상 작동

### 문서 관리 시스템 (Phase 2.7) ✅
- [ ] MCP 서버 정상 실행
- [ ] 9개 문서 관리 도구 정상 작동
- [ ] SQLite 데이터베이스 확장 완료
- [ ] 테스트 데이터 정상 저장

### 통합 기능 ✅
- [ ] 전체 네비게이션 링크 정상 작동
- [ ] 엔터티 간 데이터 연동 정상
- [ ] 에러 처리 적절함
- [ ] 성능 기준 충족

---

## 테스트 실행 방법

1. **환경 준비**:
   ```bash
   cd /c/dev/juk/edit/workflow-mcp/dashboard
   npm run dev
   ```

2. **브라우저 접속**: `http://localhost:3301`

3. **MCP 서버 확인**: Claude Code에서 MCP 도구 사용 가능 여부 확인

4. **체크리스트 순서대로 테스트 실행**

5. **문제 발견 시**: 
   - 브라우저 콘솔 로그 확인
   - 서버 로그 확인  
   - 데이터베이스 상태 확인

---

## 알려진 제한사항

1. **데이터베이스 경로**: `__dirname` 기반으로 수정되었으나 실행 환경에 따라 조정 필요할 수 있음
2. **MCP 연동**: MCP 서버 상태에 따라 문서 관리 기능 가용성 영향
3. **네비게이션**: 계획 관리 링크가 메인 네비게이션에 아직 추가되지 않음

---

## 테스트 완료 후 보고

테스트 완료 후 다음 정보를 포함하여 보고:

1. **통과한 테스트 수 / 전체 테스트 수**
2. **발견된 이슈 목록** (스크린샷 포함)
3. **성능 측정 결과**
4. **개선 제안사항**

---

*이 문서는 WorkflowMCP Phase 2.7의 완전한 검증을 위한 가이드입니다. 모든 테스트를 순서대로 실행하여 시스템의 안정성과 완성도를 확인하세요.*